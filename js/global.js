////////////////////////////////////////////////////////////////////////////////
// initialize the canvas

let canvas = document.getElementById('main'),
    context = canvas.getContext('2d'),
    padding = 10,
    is_drawing = false;

////////////////////////////////////////////////////////////////////////////////
// hand_positions[number]
//               [yCoord]
//               [xCoord]
//               [{ 0:'hour', 1:'minute' }]

const pi = Math.PI;
const hand_positions = [
    [
        [[3*pi/2, 0   ], [pi      , 0   ], [pi    , 0     ], [pi    , 3*pi/2]],
        [[3*pi/2, pi/2], [3*pi/2  , 0   ], [pi    , 3*pi/2], [3*pi/2, pi/2  ]],
        [[3*pi/2, pi/2], [3*pi/2  , pi/2], [3*pi/2, pi/2  ], [3*pi/2, pi/2  ]],
        [[3*pi/2, pi/2], [3*pi/2  , pi/2], [3*pi/2, pi/2  ], [3*pi/2, pi/2  ]],
        [[3*pi/2, pi/2], [0       , pi/2], [pi/2  , pi    ], [3*pi/2, pi/2  ]],
        [[0     , pi/2], [pi      , 0   ], [pi    , 0     ], [pi    , pi/2  ]]
    ],
    [
        [[3*pi/2, 0     ], [pi    , 0   ], [3*pi/2, pi  ], [5*pi/4, 5*pi/4]],
        [[0     , pi/2  ], [3*pi/2, pi  ], [3*pi/2, pi/2], [5*pi/4, 5*pi/4]],
        [[5*pi/4, 5*pi/4], [3*pi/2, pi/2], [3*pi/2, pi/2], [5*pi/4, 5*pi/4]],
        [[5*pi/4, 5*pi/4], [3*pi/2, pi/2], [3*pi/2, pi/2], [5*pi/4, 5*pi/4]],
        [[3*pi/2, 0     ], [pi    , pi/2], [pi/2  , 0   ], [3*pi/2, pi    ]],
        [[0     , pi/2  ], [pi    , 0   ], [pi    , 0   ], [pi    , pi/2  ]]
    ],
    [
        [[3*pi/2, 0   ], [pi    , 0   ], [pi, 0     ], [3*pi/2, pi  ]],
        [[0     , pi/2], [pi    , 0   ], [pi, 3*pi/2], [3*pi/2, pi/2]],
        [[3*pi/2, 0   ], [pi    , 0   ], [pi, pi/2  ], [3*pi/2, pi/2]],
        [[3*pi/2, pi/2], [3*pi/2, 0   ], [pi, 0     ], [pi    , pi/2]],
        [[3*pi/2, pi/2], [0     , pi/2], [pi, 0     ], [3*pi/2, pi  ]],
        [[0     , pi/2], [pi    , 0   ], [pi, 0     ], [pi    , pi/2]]
    ],
    [
        [[3*pi/2, 0   ], [pi, 0], [pi  , 0     ], [pi    , 3*pi/2]],
        [[0     , pi/2], [pi, 0], [pi  , 3*pi/2], [3*pi/2, pi/2  ]],
        [[3*pi/2, 0   ], [pi, 0], [pi  , pi/2  ], [pi/2  , 3*pi/2]],
        [[0     , pi/2], [pi, 0], [pi  , 3*pi/2], [3*pi/2, pi/2  ]],
        [[3*pi/2, 0   ], [pi, 0], [pi/2, pi    ], [3*pi/2, pi/2  ]],
        [[0     , pi/2], [pi, 0], [pi  , 0     ], [pi    , pi/2  ]]
    ],
    [
        [[3*pi/2, 0     ], [pi    , 3*pi/2], [3*pi/2, 0     ], [pi    , 3*pi/2]],
        [[pi/2  , 3*pi/2], [3*pi/2, pi/2  ], [pi/2  , 3*pi/2], [3*pi/2, pi/2  ]],
        [[pi/2  , 3*pi/2], [0     , pi/2  ], [pi    , pi/2  ], [pi/2  , 3*pi/2]],
        [[0     , pi/2  ], [pi    , 0     ], [pi    , 3*pi/2], [3*pi/2, pi/2  ]],
        [[5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [3*pi/2, pi/2  ], [3*pi/2, pi/2  ]],
        [[5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [0     , pi/2  ], [pi    , pi/2  ]]
    ],
    [
        [[3*pi/2, 0     ], [pi    , 0   ], [pi  , 0     ], [pi    , 3*pi/2]],
        [[pi/2  , 3*pi/2], [3*pi/2, 0   ], [pi  , 0     ], [pi    , pi/2  ]],
        [[pi/2  , 3*pi/2], [0     , pi/2], [pi  , 0     ], [pi    , 3*pi/2]],
        [[0     , pi/2  ], [pi    , 0   ], [pi  , 3*pi/2], [3*pi/2, pi/2  ]],
        [[3*pi/2, 0     ], [pi    , 0   ], [pi/2, pi    ], [3*pi/2, pi/2  ]],
        [[0     , pi/2  ], [pi    , 0   ], [pi  , 0     ], [pi    , pi/2  ]]
    ],
    [
        [[3*pi/2, 0     ], [pi    , 0   ], [pi  , 0     ], [pi    , 3*pi/2]],
        [[pi/2  , 3*pi/2], [3*pi/2, 0   ], [pi  , 0     ], [pi    , pi/2  ]],
        [[pi/2  , 3*pi/2], [0     , pi/2], [pi  , 0     ], [pi    , 3*pi/2]],
        [[pi/2  , 3*pi/2], [3*pi/2, 0   ], [pi  , 3*pi/2], [3*pi/2, pi/2  ]],
        [[pi/2  , 3*pi/2], [0     , pi/2], [pi/2, pi    ], [3*pi/2, pi/2  ]],
        [[0     , pi/2  ], [pi    , 0   ], [pi  , 0     ], [pi    , pi/2  ]]
    ],
    [
        [[3*pi/2, 0     ], [pi    , 0     ], [pi    , 0     ], [pi    , 3*pi/2]],
        [[0     , pi/2  ], [pi    , 0     ], [pi    , 3*pi/2], [3*pi/2, pi/2  ]],
        [[5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [3*pi/2, pi/2  ], [3*pi/2, pi/2  ]],
        [[5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [3*pi/2, pi/2  ], [3*pi/2, pi/2  ]],
        [[5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [3*pi/2, pi/2  ], [3*pi/2, pi/2  ]],
        [[5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [0     , pi/2  ], [pi    , pi/2  ]]
    ],
    [
        [[3*pi/2, 0   ], [pi    , 0   ], [pi  , 0     ], [pi    , 3*pi/2]],
        [[3*pi/2, pi/2], [3*pi/2, 0   ], [pi  , 3*pi/2], [3*pi/2, pi/2  ]],
        [[7*pi/4, pi/2], [0     , pi/2], [pi/2, pi    ], [5*pi/4, pi/2  ]],
        [[3*pi/2, pi/4], [3*pi/2, 0   ], [pi  , 3*pi/2], [3*pi/2, 3*pi/4]],
        [[3*pi/2, pi/2], [0     , pi/2], [pi/2, pi    ], [3*pi/2, pi/2  ]],
        [[0     , pi/2], [pi    , 0   ], [pi  , 0     ], [pi    , pi/2  ]]
    ],
    [
        [[3*pi/2, 0   ], [pi    , 0   ], [pi  , 0     ], [pi    , 3*pi/2]],
        [[3*pi/2, pi/2], [3*pi/2, 0   ], [pi  , 3*pi/2], [3*pi/2, pi/2  ]],
        [[3*pi/2, pi/2], [0     , pi/2], [pi/2, pi    ], [3*pi/2, pi/2  ]],
        [[0     , pi/2], [pi    , 0   ], [pi  , 3*pi/2], [3*pi/2, pi/2  ]],
        [[3*pi/2, 0   ], [pi    , 0   ], [pi/2, pi    ], [3*pi/2, pi/2  ]],
        [[0     , pi/2], [pi    , 0   ], [pi  , 0     ], [pi    , pi/2  ]]
    ]
];

////////////////////////////////////////////////////////////////////////////////
// time[
//     'hour tens',
//     'hour ones',
//     'minute tens',
//     'minute ones'
// ]

// TODO change to const
let time = [
    0,
    0,
    0,
    0
];

////////////////////////////////////////////////////////////////////////////////
// clock[{ 0:'hour tens', 1:'hour ones', 2:'minute tens', 3:'minute ones' }]
//      [yCoord]
//      [xCoord]
//      [{ 0:'hour', 1:'minute' }]

const clock = [
    [
        [[5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4]],
        [[5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4]],
        [[5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4]],
        [[5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4]],
        [[5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4]],
        [[5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4]]
    ],
    [
        [[5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4]],
        [[5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4]],
        [[5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4]],
        [[5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4]],
        [[5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4]],
        [[5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4]]
    ],
    [
        [[5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4]],
        [[5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4]],
        [[5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4]],
        [[5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4]],
        [[5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4]],
        [[5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4]]
    ],
    [
        [[5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4]],
        [[5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4]],
        [[5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4]],
        [[5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4]],
        [[5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4]],
        [[5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4], [5*pi/4, 5*pi/4]]
    ]
];

////////////////////////////////////////////////////////////////////////////////
// coords[
//     hour_tens,
//     hour_ones,
//     minute_tens,
//     minute_ones
// ]

const coords = [
    {
        'x'      : '',
        'y'      : '',
        'height' : '',
        'width'  : '',
        'side'   : '',
    },
    {
        'x'      : '',
        'y'      : '',
        'height' : '',
        'width'  : '',
        'side'   : '',
    },
    {
        'x'      : '',
        'y'      : '',
        'height' : '',
        'width'  : '',
        'side'   : '',
    },
    {
        'x'      : '',
        'y'      : '',
        'height' : '',
        'width'  : '',
        'side'   : '',
    },
];

////////////////////////////////////////////////////////////////////////////////
// animation

let animation = {
    'start'  : '',
    'finish' : '',
    'st'     : '',
    'tt'     : '',
    'et'     : ''
};
